<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>

<AnchorPane minHeight="550.0" minWidth="800.0"
            xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.final_project_404.StudentPortalController">

    <children>
        <!-- ===== Header ===== -->
        <HBox fx:id="headerHBox" prefHeight="80.0" prefWidth="800.0"
              styleClass="header" stylesheets="@EmployeePortal.css">
            <children>
                <Label styleClass="header-title" text="Student Portal" />
            </children>
        </HBox>

        <!-- ===== Main Container ===== -->
        <VBox fx:id="containerBarVBox" layoutY="80.0"
              prefHeight="470.0" prefWidth="800.0"
              style="-fx-background-color: linear-gradient(from 100% 100% to 0% 0%, #00a1ffb1 0%, #ffffff 100%);"
              stylesheets="@EmployeePortal.css">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <children>
                <!-- ===== Welcome Label ===== -->
                <Label maxWidth="Infinity" styleClass="label-title" text="Welcome Student!!">
                    <VBox.margin>
                        <Insets bottom="20" />
                    </VBox.margin>
                </Label>

                <!-- ===== Main Menu Grid ===== -->
                <GridPane fx:id="mainMenuPane" prefHeight="370.0" prefWidth="760.0">
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" prefWidth="379.0" />
                        <ColumnConstraints hgrow="SOMETIMES" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints prefHeight="50.0" vgrow="SOMETIMES" />
                        <RowConstraints prefHeight="50.0" vgrow="SOMETIMES" />
                        <RowConstraints prefHeight="50.0" vgrow="SOMETIMES" />
                    </rowConstraints>
                    <children>
                        <!-- Buttons -->
                        <Button text="Enrollment" onAction="#EnrollmentStudentPortal" GridPane.halignment="CENTER"
                                styleClass="button-dashboard" stylesheets="@DashboardButton.css" minHeight="40.0" minWidth="280.0" />
                        <Button text="Profile" onAction="#profileStudentPortal" GridPane.columnIndex="1" GridPane.rowIndex="0"
                                styleClass="button-dashboard" stylesheets="@DashboardButton.css" minHeight="40.0" minWidth="280.0" />
                        <Button text="Reports" onAction="#reportsStudentPortal" GridPane.rowIndex="1"
                                styleClass="button-dashboard" stylesheets="@DashboardButton.css" minHeight="40.0" minWidth="280.0" />
                        <Button text="See Report Card" onAction="#showReportCardPane" GridPane.columnIndex="1" GridPane.rowIndex="1"
                                styleClass="button-dashboard" stylesheets="@DashboardButton.css" minHeight="40.0" minWidth="280.0" />
                        <Button text="Sign out" onAction="#signOutStudentPortal" GridPane.halignment="CENTER" GridPane.rowIndex="2" GridPane.columnSpan="2"
                                styleClass="button-dashboard" stylesheets="@DashboardButton.css" minHeight="40.0" minWidth="280.0" />
                    </children>
                </GridPane>

                <!-- ===== Report Card Panel (Hidden by default) ===== -->
                <AnchorPane fx:id="reportCardPane" managed="false" visible="false" prefHeight="430.0" prefWidth="760.0">
                    <children>
                        <VBox prefHeight="430" prefWidth="760" spacing="15" style="-fx-background-color: #f7f9fc;">
                            <padding>
                                <Insets bottom="15" left="15" right="15" top="15" />
                            </padding>

                            <!-- ComboBoxes & Search -->
                            <HBox spacing="10">
                                <ComboBox fx:id="semesterComboBox" prefWidth="200" promptText="Select Semester" />
                                <Button onAction="#loadReportCard" text="Load Report" />
                            </HBox>

                            <!-- Table -->
                            <TableView fx:id="reportCardTable" prefHeight="300.0" stylesheets="@TableViewStyle.css">
                                <columns>
                                    <TableColumn fx:id="courseNameCol" prefWidth="250.0" text="Course Name" />
                                    <TableColumn fx:id="scoreCol" prefWidth="100.0" text="Score" />
                                    <TableColumn fx:id="statusCol" prefWidth="100.0" text="Status" />
                                </columns>
                            </TableView>

                            <!-- Back Button -->
                            <HBox alignment="CENTER_RIGHT">
                                <Button onAction="#showMainMenuPane" style="-fx-background-color: #4CAF50; -fx-text-fill: white;" text="Back" />
                            </HBox>

                            <Label fx:id="messageLabel" style="-fx-text-fill: red;" />
                        </VBox>
                    </children>
                </AnchorPane>
            </children>
        </VBox>
    </children>
</AnchorPane>
